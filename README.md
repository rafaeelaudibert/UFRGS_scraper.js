# UFRGS - Vestibular Scraper

Scraper written in `JavaScript`, using `Node.js` to fetch all the freshmen in UFRGS vestibular.

There is also a `Shell` scraper with less functionalities but faster

This code is tested to run in UFRGS's "Listão" in the 2016, 2017, 2018 and 2019 editions. 
There are no warranties that it will run in future editions, as this is only a scraper and depends in the website layout, which can be changed by UFRGS at any time.

---

## Configuring

You must have `Node.js` installed in your computer to run this code. You can download it [here](https://nodejs.org/en/download/).

You can clone this repository running `git clone https://github.com/rafaeelaudibert/UFRGS_vestibular_scraper.git && cd UFRGS_vestibular_scraper`.

After, you need to install the requirements, which can be easily installed with `npm install`.

You should also configure the year you want to be searched in the .ENV file, writing a key/value pair, such as `YEAR=2019`.

---

## Running the code
To run the code you can simply run `npm start`.

The code will erase any folder with the name `./json` in the root of the project, so be sure to not have important information in it before running the code and typing `YES` when prompted.

---

## Understanding the data
The data generated by the code is pretty easy to understand. It will generate a folder tree like so:

```
./json
  |
  \- course1
      |
      \- freshmen.json
      \- freshmen.txt
  |- course2
  |- course3
  |- course4
```

\
Each course will have its own folder containing 2 files: `freshmen.json` and `freshmen.txt`. The former has the following structure:
```json
[
    {
        "nome": "First freshman name",
        "semestre": "First freshman semester (1º or 2º)",
    },
    {
        "nome": "Second freshman name",
        "semestre": "Second freshman semester (1º or 2º)",
    },
    {
        ...
    },
    ...
]
```
\
The latter is a plain text file containing one freshman name per line, _without the semester_, as follows:
```text
    First freshman name
    Second freshman name
    Third freshman name
    ...
```

## Disclaimer

This program is not associated with the Universidade Federal do Rio Grande do Sul in any ways, and it was just created to more easily fetch the freshmen through the popular Listão do Vestibular.

---
# Extra
There is also a `scraper.sh` script (99% courtesy of [@fercgomes](https://github.com/fercgomes) with some minor adjustments made by me) which only works on *nix-like OS's. It can be run giving executable rights to the file with `chmod +x scraper.sh` and running it normally, after so. You can pass two parameters to it, `COURSE` which refers to the course you want to obtain the data and `YEAR` which refers to the year you want to search in the "Listão". If you don't pass the parameters, they will default to `COURSE="Ciência da Computação"` and `YEAR="2019"`.


This way, you can call it like so:
```bash
$ YEAR="2019" COURSE="Ciência da Computação" ./scraper.sh
```
